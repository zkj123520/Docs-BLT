(function(E,t,k,H,a){"use strict";function V(p,r){const n=a.ref();let l=[];const s=t.createEventHook(),d=t.createEventHook(),c=t.createEventHook(),f=t.createEventHook(),i=t.createEventHook(),v=a.ref(!1),h=a.ref(!1),S=a.ref(!1),_=a.ref(!1),u=a.ref({color:"black",size:3,arrowEnd:!1,cornerRadius:0,dasharray:void 0,fill:"transparent",mode:"draw",...r?.brush});a.watch(u,()=>{const e=n.value;e&&(e.brush=u.value,e.mode=u.value.mode)},{deep:!0});const C=()=>{var e;return(e=n.value)==null?void 0:e.undo()},U=()=>{var e;return(e=n.value)==null?void 0:e.redo()},b=()=>{var e;return(e=n.value)==null?void 0:e.clear()},D=()=>{var e;return(e=n.value)==null?void 0:e.cancel()},w=e=>{var o;return(o=n.value)==null?void 0:o.load(e)},y=()=>{var e;return(e=n.value)==null?void 0:e.dump()},m=()=>{var e;l.forEach(o=>o()),(e=n.value)==null||e.unmount()},g=()=>{n.value&&(v.value=n.value.canUndo(),h.value=n.value.canRedo(),S.value=n.value.altPressed,_.value=n.value.shiftPressed)};return a.watch(()=>t.unrefElement(p),e=>{!e||typeof SVGSVGElement>"u"||!(e instanceof SVGSVGElement)||(n.value&&m(),n.value=H.createDrauu({el:e,...r}),g(),l=[n.value.on("canceled",()=>d.trigger()),n.value.on("committed",o=>c.trigger(o)),n.value.on("start",()=>f.trigger()),n.value.on("end",()=>i.trigger()),n.value.on("changed",()=>{g(),s.trigger()})])},{flush:"post"}),k.tryOnScopeDispose(()=>m()),{drauuInstance:n,load:w,dump:y,clear:b,cancel:D,undo:C,redo:U,canUndo:v,canRedo:h,brush:u,onChanged:s.on,onCommitted:c.on,onStart:f.on,onEnd:i.on,onCanceled:d.on}}E.useDrauu=V})(this.VueUse=this.VueUse||{},VueUse,VueUse,Drauu,Vue);
